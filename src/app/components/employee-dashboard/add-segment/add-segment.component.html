<h1>Dodawanie odcinka</h1>

<div class="spinner" *ngIf="!loaded"><mat-spinner></mat-spinner></div>

<div *ngIf="loaded">

<form>
    <div style="text-align: center;">

      <mat-form-field class="big">
        <mat-label>Nazwa</mat-label>
        <input matInput name="name" [(ngModel)]="name" required>
      </mat-form-field><br>

      <mat-form-field appearance="fill" class="big">
          <mat-label>Teren</mat-label>
      <mat-select [(value)]="selectedArea" required>
        <mat-option *ngFor="let area of allAreas" [value]="area">
          {{area?.Nazwa}}
        </mat-option>
      </mat-select>
      </mat-form-field><br>

      <mat-form-field appearance="fill" class="big">
        <mat-label>Punkt początkowy</mat-label>
      <mat-select [(value)]="initialPoint" (selectionChange)="changeOfInitialPoint($event)" [disabled]='allPoints.length < 1' required>
        <mat-option *ngFor="let point of allPoints" [value]="point">
          {{point?.Nazwa}}
        </mat-option>
      </mat-select><br>
    </mat-form-field><br>

      <mat-form-field appearance="fill" class="big">
        <mat-label>Punkt końcowy</mat-label>
      <mat-select [(value)]="boundPoint" [disabled]="initialPoint == undefined" required>
        <mat-option *ngFor="let point of boundPoints" [value]="point">
          {{point?.Nazwa}}
        </mat-option>
      </mat-select>
    </mat-form-field><br>

    <mat-form-field class="big">
        <mat-label>Dlugosc</mat-label>
        <input matInput type="number" name="length" [(ngModel)]="length" required>
      </mat-form-field><br>

      <mat-form-field class="small">
        <mat-label>Punktacja 1</mat-label>
        <input matInput type="number" name="points1" [(ngModel)]="points1" required>
      </mat-form-field>

      <mat-form-field class="small">
        <mat-label>Punktacja 2</mat-label>
        <input matInput type="number" name="points2" [(ngModel)]="points2" required>
      </mat-form-field><br>

      </div>
</form>

      <div style="text-align: right;">
        <button
        mat-raised-button
        [disabled]="!checkDataIsFilled() || !checkDataIsValid()"
        (click)="saveSegment()">Dodaj</button>
      </div>

</div>
